<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Canvas2D Example Viewer</title>

  <link rel="stylesheet" type="text/css" href="viewer.css" />

  <script type="text/javascript" src="../../include.js"></script>

  <!-- alternatively we can include the "compiled" all-in-one script
  <script type="text/javascript" src="../../build/Canvas2D.standalone.min.js"></script>
  -->
  
  <script type="text/javascript">
    Canvas2D.registerConnector( "Triangle",
      {
        n:{lines:[[ -5, -10],[ +5,-10],[  0,  0]],end:[ 0,-10]},
        e:{lines:[[+10,  +5],[+10, -5],[  0,  0]],end:[10,  0]},
        s:{lines:[[ +5, +10],[ -5,+10],[  0,  0]],end:[ 0, 10]},
        w:{lines:[[-10,  -5],[-10, +5],[  0,  0]],end:[-10, 0]}
      }
    );
  </script>
  <script type="text/javascript" src="viewer.js"></script>
  <script type="text/javascript">
    // This is the default Viewer configuration. which can be overriden
    Canvas2D.Viewer.config = {
      canvas     : "C2D_Viewer",
      navigator  : "C2D_Navigator",
      info       : "C2D_Info"
    };
    // this is a repository that loads static adl files from the current dir
    Canvas2D.Repository.addRepository( "adl", "./" );
    // this repository loads the same adl files but with a 2 second delay
    Canvas2D.Repository.addRepository( "php", "./repo.php?id=" );
  </script>
</head>

<body id="index" class="home">

  <div class="header pane">
    <ul>
      <li><a href="#" onclick="Canvas2D.Viewer.refreshNavigator();">refresh</a></li>
    </ul>
    Canvas2D Example Viewer
  </div>

  <div class="left pane">
    <div id="navigatorPane" class="top content">
      <div id="C2D_Navigator">loading examples index ...</div>
    </div>
    <div class="bottom content">
      <textarea id="C2D_Info">Select an example from the list above...</textarea>
    </div>
  </div>

  <div class="right pane">
    <div id="viewerPane" class="top content">
      <canvas id="C2D_Viewer" class="Canvas2D withRepo:php"></canvas>
    </div>
    <div class="bottom content">
      <textarea id="generated_for_C2D_Viewer" class="code"></textarea>
    </div>
  </div>

  <script type="text/javascript">
    function getWindowSize() {
      var width = 0, height = 0;
      if( typeof( window.innerWidth ) == 'number' ) {
        // Non-IE
        width = window.innerWidth;
        height = window.innerHeight;
      } else if( document.documentElement && ( document.documentElement.clientWidth || document.documentElement.clientHeight ) ) {
        //IE 6+ in 'standards compliant mode'
        width = document.documentElement.clientWidth;
        height = document.documentElement.clientHeight;
      } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
        //IE 4 compatible
        width = document.body.clientWidth;
        height = document.body.clientHeight;
      }
      return { width: width, height: height };
    }
    
    function resizeLayout() {
      var winHeight = getWindowSize().height - 210;
      document.getElementById("viewerPane")   .style.height = winHeight + "px";
      document.getElementById("navigatorPane").style.height = winHeight + "px";
    }

    ProtoJS.Event.observe( window, "resize", resizeLayout );
    resizeLayout();
  </script>

</body>
</html>
